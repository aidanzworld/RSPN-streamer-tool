repeat wait() until game:IsLoaded()

local base1 = game.Players.LocalPlayer.PlayerGui.ScoreboardUI.Scoreboard
if not base1 then
    warn("Scoreboard frame not found.")
    return
end
local fileName = "LFG-BASKETBALL.csv"

-- Add column names to the CSV file
writefile(fileName, "HomeScore,AwayScore,Quarter,ShotClock,Clock\n")

while wait(1) do
    local homeScore = base1.Home.Score.Text
    local awayScore = base1.Away.Score.Text
    local Quarter = base1.Info.Quarter.Text
    local ShotClock = base1.Info.ShotClock.Text
    local Clock = base1.Info.Clock.Text

    local data = string.format("HomeScore,AwayScore,Quarter,ShotClock,Clock\n%s,%s,%s,%s,%s\n", homeScore, awayScore, Quarter, ShotClock, Clock)
    writefile(fileName, data, "a")  -- Use "a" to append to the file instead of overwriting
    print("Stats written to CSV")

    game.Players.LocalPlayer.PlayerGui.ScoreboardUI.Scoreboard.Visible = false
end

updateGame()
